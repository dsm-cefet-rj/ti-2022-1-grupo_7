{"ast":null,"code":"import { createAsyncThunk, createSlice, createEntityAdapter } from '@reduxjs/toolkit';\nimport global from '../Global/Global';\nimport { useDispatch } from \"react-redux\";\nconst initialProduto = {\n  status: 'notloaded',\n  produtos: [],\n  produtoSelecionado: [],\n  erro: null\n};\nconst bookingsAdapter = createEntityAdapter();\n\nfunction openBoxReducer(state, id) {\n  state.produtos.filter(p => p.id == id);\n}\n\nfunction addBoxReducer(state, produto) {\n  let proxId = 1 + state.produtos.map(p => p.id).reduce((x, y) => Math.max(x, y));\n  state.produtos = state.produtos.concat([{ ...produto,\n    id: proxId\n  }]); // const response = axios.post(\n  //     `http://localhost:3004/Banco`,\n  //     {...produto, id: proxId}, \n  //     //{ headers: { Authorization: `Bearer ${token}` } }\n  //   ).then(function (response) {\n  //     console.log(response);\n  //   })\n  //   .catch(function (error) {\n  //     console.error(error);\n  //   });\n  // return response\n}\n\nfunction deleteBoxReducer(state, id) {\n  return state.produtos.filter(p => p.id !== id);\n}\n\nexport const fetchBanco = createAsyncThunk('Banco/fetchBanco', async () => {\n  return await (await fetch('http://localhost:3004/Banco')).json();\n});\n\nfunction fullfillProjetosReducer(projetosState, projetosFetched) {\n  projetosState.status = 'loaded';\n  projetosState.produtos = projetosFetched;\n  projetosState.produtoSelecionado = projetosFetched;\n}\n\nexport const boxSlice = createSlice({\n  name: 'box',\n  initialState: initialProduto,\n  reducers: {\n    openBox: (state, action) => openBoxReducer(state, action.payload),\n    addBox: (state, action) => addBoxReducer(state, action.payload),\n    deleteBox: (state, action) => deleteBoxReducer(state, action.payload)\n  },\n  extraReducers: {\n    [fetchBanco.fulfilled]: (state, action) => fullfillProjetosReducer(state, action.payload),\n    [fetchBanco.pending]: state => {\n      state.status = 'loading';\n    },\n    [fetchBanco.rejected]: (state, action) => {\n      state.status = 'failed';\n      state.erro = action.erro.message;\n    }\n  }\n});\nexport const {\n  addBox,\n  deleteBox,\n  openBox\n} = boxSlice.actions;\nexport default boxSlice.reducer;\nexport const {\n  selectAll: selectALLBookings,\n  selectById: selectBookingById,\n  selectEntities: selectBookingEntities,\n  selectTotal: selectBookingsTotal\n} = bookingsAdapter.getSelectors(state => state.bookings);","map":{"version":3,"names":["createAsyncThunk","createSlice","createEntityAdapter","global","useDispatch","initialProduto","status","produtos","produtoSelecionado","erro","bookingsAdapter","openBoxReducer","state","id","filter","p","addBoxReducer","produto","proxId","map","reduce","x","y","Math","max","concat","deleteBoxReducer","fetchBanco","fetch","json","fullfillProjetosReducer","projetosState","projetosFetched","boxSlice","name","initialState","reducers","openBox","action","payload","addBox","deleteBox","extraReducers","fulfilled","pending","rejected","message","actions","reducer","selectAll","selectALLBookings","selectById","selectBookingById","selectEntities","selectBookingEntities","selectTotal","selectBookingsTotal","getSelectors","bookings"],"sources":["C:/Users/Victor/Desktop/Projeto/PSW/ti-2022-1-grupo_7-front-end/src/components/Redux/boxSlice.js"],"sourcesContent":["import {createAsyncThunk, createSlice, createEntityAdapter} from '@reduxjs/toolkit';\nimport global from '../Global/Global'\nimport { useDispatch } from \"react-redux\";\n\nconst initialProduto = {\n    status:'notloaded',\n    produtos:[],\n    produtoSelecionado:[],\n    erro:null\n};\n\nconst bookingsAdapter = createEntityAdapter()\n\n\nfunction openBoxReducer(state, id){\n    state.produtos.filter((p) => p.id == id);\n}\n\nfunction addBoxReducer(state, produto){\n    let proxId = 1 + state.produtos.map(p => p.id).reduce((x,y) => Math.max(x,y));\n    state.produtos = state.produtos.concat([{...produto, id: proxId}]);\n    \n    // const response = axios.post(\n    //     `http://localhost:3004/Banco`,\n    //     {...produto, id: proxId}, \n    //     //{ headers: { Authorization: `Bearer ${token}` } }\n    //   ).then(function (response) {\n    //     console.log(response);\n    //   })\n    //   .catch(function (error) {\n    //     console.error(error);\n    //   });\n\n    // return response\n}\n\nfunction deleteBoxReducer(state, id){\n    return state.produtos.filter((p) => p.id !== id);\n}\n\nexport const fetchBanco = createAsyncThunk('Banco/fetchBanco',\n    async () => {\n        return await (await fetch('http://localhost:3004/Banco')).json();\n});\n\nfunction fullfillProjetosReducer(projetosState, projetosFetched) {\n    projetosState.status = 'loaded';\n    projetosState.produtos = projetosFetched;\n    projetosState.produtoSelecionado = projetosFetched;\n}\n\nexport const boxSlice = createSlice({\n    name: 'box',\n    initialState: initialProduto,\n\n    reducers: {\n        openBox: (state, action) => openBoxReducer(state, action.payload),\n        addBox: (state, action) => addBoxReducer(state, action.payload),\n        deleteBox: (state, action) => deleteBoxReducer(state, action.payload)\n    },\n    extraReducers: {\n        [fetchBanco.fulfilled]: (state, action) => fullfillProjetosReducer(state, action.payload),\n        [fetchBanco.pending]: (state) => { state.status = 'loading' },\n        [fetchBanco.rejected]: (state, action) => { state.status = 'failed'; state.erro = action.erro.message }\n\n    }\n\n})\nexport const { addBox, deleteBox, openBox} = boxSlice.actions\nexport default boxSlice.reducer\n\nexport const {\n    selectAll : selectALLBookings,\n    selectById: selectBookingById,\n    selectEntities: selectBookingEntities,\n    selectTotal: selectBookingsTotal,\n} = bookingsAdapter.getSelectors(state=>state.bookings)"],"mappings":"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"},"metadata":{},"sourceType":"module"}