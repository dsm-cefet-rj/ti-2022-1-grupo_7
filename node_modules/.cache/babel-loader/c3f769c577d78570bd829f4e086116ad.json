{"ast":null,"code":"import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\nimport global from '../Global/Global';\nconst initialProduto = {\n  status: 'not_loaded',\n  Banco: [],\n  error: null\n}; // const teste = global;\n\nfunction openBoxReducer(produtos, id) {\n  const teste = produtos;\n  const filtro = teste.filter(p => p.id === id);\n  produtos = filtro;\n}\n\nfunction addBoxReducer(produtos, produto) {\n  let proxId = 1 + produtos.map(p => p.id).reduce((x, y) => Math.max(x, y));\n  return produtos.concat([{ ...produto,\n    id: proxId\n  }]);\n}\n\nfunction deleteBoxReducer(produtos, id) {\n  return produtos.filter(p => p.id !== id);\n}\n\nexport const fetchBanco = createAsyncThunk('Banco/fetchBanco', async () => {\n  return await (await fetch('http://localhost:3004/Banco')).json();\n});\n\nfunction fullfillBancoReducer(BancoFetched) {\n  return BancoFetched;\n}\n\nexport const boxSlice = createSlice({\n  name: 'box',\n  initialState: initialProduto,\n  reducers: {\n    openBox: (state, action) => openBoxReducer(state, action.payload),\n    addBox: (state, action) => addBoxReducer(state, action.payload),\n    deleteBox: (state, action) => deleteBoxReducer(state, action.payload)\n  },\n  extraReducers: {\n    [fetchBanco.fulfilled]: (state, action) => fullfillBancoReducer(state, action.payload)\n  }\n});\nexport const {\n  addBox,\n  deleteBox,\n  openBox\n} = boxSlice.actions;\nexport default boxSlice.reducer;","map":{"version":3,"names":["createAsyncThunk","createSlice","global","initialProduto","status","Banco","error","openBoxReducer","produtos","id","teste","filtro","filter","p","addBoxReducer","produto","proxId","map","reduce","x","y","Math","max","concat","deleteBoxReducer","fetchBanco","fetch","json","fullfillBancoReducer","BancoFetched","boxSlice","name","initialState","reducers","openBox","state","action","payload","addBox","deleteBox","extraReducers","fulfilled","actions","reducer"],"sources":["C:/Users/Victor/Desktop/Projeto/PSW/ti-2022-1-grupo_7/src/components/Redux/boxSlice.js"],"sourcesContent":["import { createAsyncThunk, createSlice } from '@reduxjs/toolkit'\r\nimport global from '../Global/Global'\r\n\r\nconst initialProduto = {\r\n    status: 'not_loaded',\r\n    Banco:[],\r\n    error: null\r\n};\r\n// const teste = global;\r\n\r\nfunction openBoxReducer(produtos, id){\r\n    const teste = produtos;\r\n    const filtro = teste.filter((p) => p.id === id);\r\n    produtos = filtro;\r\n}\r\n\r\nfunction addBoxReducer(produtos, produto){\r\n    let proxId = 1 + produtos.map(p => p.id).reduce((x,y) => Math.max(x,y));\r\n    return produtos.concat([{...produto, id: proxId}]);\r\n}\r\n\r\nfunction deleteBoxReducer(produtos, id){\r\n\r\n    return produtos.filter((p) => p.id !== id);\r\n}\r\n\r\nexport const fetchBanco = createAsyncThunk('Banco/fetchBanco',\r\n    async () => {\r\n        return await (await fetch('http://localhost:3004/Banco')).json();\r\n});\r\n\r\nfunction fullfillBancoReducer( BancoFetched){\r\n    return BancoFetched;\r\n}\r\n\r\nexport const boxSlice = createSlice({\r\n    name:'box',\r\n    initialState: initialProduto,\r\n       \r\n    reducers: {\r\n        openBox: (state, action) => openBoxReducer (state, action.payload),\r\n        addBox: (state , action) => addBoxReducer (state, action.payload),\r\n        deleteBox: (state, action) => deleteBoxReducer (state, action.payload)\r\n    },\r\n    extraReducers: {\r\n        [fetchBanco.fulfilled]: (state, action) => fullfillBancoReducer(state, action.payload),\r\n    }\r\n\r\n})\r\n\r\nexport const { addBox, deleteBox, openBox} = boxSlice.actions\r\nexport default boxSlice.reducer"],"mappings":"AAAA,SAASA,gBAAT,EAA2BC,WAA3B,QAA8C,kBAA9C;AACA,OAAOC,MAAP,MAAmB,kBAAnB;AAEA,MAAMC,cAAc,GAAG;EACnBC,MAAM,EAAE,YADW;EAEnBC,KAAK,EAAC,EAFa;EAGnBC,KAAK,EAAE;AAHY,CAAvB,C,CAKA;;AAEA,SAASC,cAAT,CAAwBC,QAAxB,EAAkCC,EAAlC,EAAqC;EACjC,MAAMC,KAAK,GAAGF,QAAd;EACA,MAAMG,MAAM,GAAGD,KAAK,CAACE,MAAN,CAAcC,CAAD,IAAOA,CAAC,CAACJ,EAAF,KAASA,EAA7B,CAAf;EACAD,QAAQ,GAAGG,MAAX;AACH;;AAED,SAASG,aAAT,CAAuBN,QAAvB,EAAiCO,OAAjC,EAAyC;EACrC,IAAIC,MAAM,GAAG,IAAIR,QAAQ,CAACS,GAAT,CAAaJ,CAAC,IAAIA,CAAC,CAACJ,EAApB,EAAwBS,MAAxB,CAA+B,CAACC,CAAD,EAAGC,CAAH,KAASC,IAAI,CAACC,GAAL,CAASH,CAAT,EAAWC,CAAX,CAAxC,CAAjB;EACA,OAAOZ,QAAQ,CAACe,MAAT,CAAgB,CAAC,EAAC,GAAGR,OAAJ;IAAaN,EAAE,EAAEO;EAAjB,CAAD,CAAhB,CAAP;AACH;;AAED,SAASQ,gBAAT,CAA0BhB,QAA1B,EAAoCC,EAApC,EAAuC;EAEnC,OAAOD,QAAQ,CAACI,MAAT,CAAiBC,CAAD,IAAOA,CAAC,CAACJ,EAAF,KAASA,EAAhC,CAAP;AACH;;AAED,OAAO,MAAMgB,UAAU,GAAGzB,gBAAgB,CAAC,kBAAD,EACtC,YAAY;EACR,OAAO,MAAM,CAAC,MAAM0B,KAAK,CAAC,6BAAD,CAAZ,EAA6CC,IAA7C,EAAb;AACP,CAHyC,CAAnC;;AAKP,SAASC,oBAAT,CAA+BC,YAA/B,EAA4C;EACxC,OAAOA,YAAP;AACH;;AAED,OAAO,MAAMC,QAAQ,GAAG7B,WAAW,CAAC;EAChC8B,IAAI,EAAC,KAD2B;EAEhCC,YAAY,EAAE7B,cAFkB;EAIhC8B,QAAQ,EAAE;IACNC,OAAO,EAAE,CAACC,KAAD,EAAQC,MAAR,KAAmB7B,cAAc,CAAE4B,KAAF,EAASC,MAAM,CAACC,OAAhB,CADpC;IAENC,MAAM,EAAE,CAACH,KAAD,EAASC,MAAT,KAAoBtB,aAAa,CAAEqB,KAAF,EAASC,MAAM,CAACC,OAAhB,CAFnC;IAGNE,SAAS,EAAE,CAACJ,KAAD,EAAQC,MAAR,KAAmBZ,gBAAgB,CAAEW,KAAF,EAASC,MAAM,CAACC,OAAhB;EAHxC,CAJsB;EAShCG,aAAa,EAAE;IACX,CAACf,UAAU,CAACgB,SAAZ,GAAwB,CAACN,KAAD,EAAQC,MAAR,KAAmBR,oBAAoB,CAACO,KAAD,EAAQC,MAAM,CAACC,OAAf;EADpD;AATiB,CAAD,CAA5B;AAeP,OAAO,MAAM;EAAEC,MAAF;EAAUC,SAAV;EAAqBL;AAArB,IAAgCJ,QAAQ,CAACY,OAA/C;AACP,eAAeZ,QAAQ,CAACa,OAAxB"},"metadata":{},"sourceType":"module"}