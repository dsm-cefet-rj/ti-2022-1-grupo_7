{"ast":null,"code":"import { store } from './configureStore';\nimport { logout } from \"./reducers/UserSlice\"; // async function client(endpoint, { body, ...customConfig } = {}) {\n//     const headers = { 'Content-Type': 'application/json' }\n//     const { user: { token } } = store.getState();\n//     const config = {\n//       method: body ? 'POST' : 'GET',\n//       ...customConfig,\n//       headers: {\n//         ...headers,\n//         ...customConfig.headers,\n//         'Authorization': token && `Bearer ${token}`\n//       }\n//     }\n//     if (body) {\n//       config.body = JSON.stringify(body)\n//     }\n//     let data, response\n//     try {\n//       response = await window.fetch(endpoint, config)\n//       data = await response.json()\n//       if (response.ok) {\n//         return data\n//       }\n//       throw new Error(response.statusText)\n//     } catch (err) {\n//       if (response.status == 401) {\n//         store.dispatch(logout());\n//       }\n//       return Promise.reject(err.message ? err.message : data)\n//     }\n//   }\n\nexport const httpGet = async function (endpoint) {\n  let customConfig = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  return client(endpoint, { ...customConfig,\n    method: 'GET'\n  });\n};\nexport const httpPost = async function (endpoint, body) {\n  let customConfig = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  return client(endpoint, {\n    body,\n    ...customConfig,\n    method: 'POST'\n  });\n};\nexport const httpPut = async function (endpoint, body) {\n  let customConfig = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  return client(endpoint, {\n    body,\n    ...customConfig,\n    method: 'PUT'\n  });\n};\nexport const httpDelete = async function (endpoint) {\n  let customConfig = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  return client(endpoint, { ...customConfig,\n    method: 'DELETE'\n  });\n};","map":{"version":3,"names":["store","logout","httpGet","endpoint","customConfig","client","method","httpPost","body","httpPut","httpDelete"],"sources":["C:/Users/Victor/Desktop/Projeto/PSW/ti-2022-1-grupo_7/src/components/Redux/utils.js"],"sourcesContent":["import { store } from './configureStore';\r\nimport { logout } from \"./reducers/UserSlice\";\r\n\r\n// async function client(endpoint, { body, ...customConfig } = {}) {\r\n//     const headers = { 'Content-Type': 'application/json' }\r\n//     const { user: { token } } = store.getState();\r\n\r\n//     const config = {\r\n//       method: body ? 'POST' : 'GET',\r\n//       ...customConfig,\r\n//       headers: {\r\n//         ...headers,\r\n//         ...customConfig.headers,\r\n//         'Authorization': token && `Bearer ${token}`\r\n//       }\r\n//     }\r\n\r\n//     if (body) {\r\n//       config.body = JSON.stringify(body)\r\n//     }\r\n\r\n//     let data, response\r\n//     try {\r\n//       response = await window.fetch(endpoint, config)\r\n//       data = await response.json()\r\n//       if (response.ok) {\r\n//         return data\r\n//       }\r\n//       throw new Error(response.statusText)\r\n//     } catch (err) {\r\n//       if (response.status == 401) {\r\n//         store.dispatch(logout());\r\n//       }\r\n//       return Promise.reject(err.message ? err.message : data)\r\n//     }\r\n//   }\r\n\r\n  export const httpGet = async function (endpoint, customConfig = {}) {\r\n    return client(endpoint, { ...customConfig, method: 'GET' })\r\n  }\r\n\r\n  export const httpPost = async function (endpoint, body, customConfig = {}) {\r\n    return client(endpoint, {body, ...customConfig, method: 'POST'})\r\n  }\r\n\r\n  export const httpPut = async function (endpoint, body, customConfig = {}) {\r\n    return client(endpoint, {body, ...customConfig, method: 'PUT'})\r\n  }\r\n\r\n  export const httpDelete = async function (endpoint, customConfig = {}) {\r\n    return client(endpoint, { ...customConfig, method: 'DELETE' })\r\n  } "],"mappings":"AAAA,SAASA,KAAT,QAAsB,kBAAtB;AACA,SAASC,MAAT,QAAuB,sBAAvB,C,CAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEE,OAAO,MAAMC,OAAO,GAAG,gBAAgBC,QAAhB,EAA6C;EAAA,IAAnBC,YAAmB,uEAAJ,EAAI;EAClE,OAAOC,MAAM,CAACF,QAAD,EAAW,EAAE,GAAGC,YAAL;IAAmBE,MAAM,EAAE;EAA3B,CAAX,CAAb;AACD,CAFM;AAIP,OAAO,MAAMC,QAAQ,GAAG,gBAAgBJ,QAAhB,EAA0BK,IAA1B,EAAmD;EAAA,IAAnBJ,YAAmB,uEAAJ,EAAI;EACzE,OAAOC,MAAM,CAACF,QAAD,EAAW;IAACK,IAAD;IAAO,GAAGJ,YAAV;IAAwBE,MAAM,EAAE;EAAhC,CAAX,CAAb;AACD,CAFM;AAIP,OAAO,MAAMG,OAAO,GAAG,gBAAgBN,QAAhB,EAA0BK,IAA1B,EAAmD;EAAA,IAAnBJ,YAAmB,uEAAJ,EAAI;EACxE,OAAOC,MAAM,CAACF,QAAD,EAAW;IAACK,IAAD;IAAO,GAAGJ,YAAV;IAAwBE,MAAM,EAAE;EAAhC,CAAX,CAAb;AACD,CAFM;AAIP,OAAO,MAAMI,UAAU,GAAG,gBAAgBP,QAAhB,EAA6C;EAAA,IAAnBC,YAAmB,uEAAJ,EAAI;EACrE,OAAOC,MAAM,CAACF,QAAD,EAAW,EAAE,GAAGC,YAAL;IAAmBE,MAAM,EAAE;EAA3B,CAAX,CAAb;AACD,CAFM"},"metadata":{},"sourceType":"module"}