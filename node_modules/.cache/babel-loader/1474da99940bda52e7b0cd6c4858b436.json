{"ast":null,"code":"import { createAsyncThunk, createSlice, createEntityAdapter } from '@reduxjs/toolkit';\nimport { useDispatch } from \"react-redux\";\nconst initialProduto = [];\nconst bookingsAdapter = createEntityAdapter();\n\nfunction openBoxReducer(produtos, id) {\n  // const filtro = state.produtos.filter((p) => p.id == id);\n  const filtro = state.produtos;\n  return filtro;\n}\n\nfunction addBoxReducer(produtos, produto) {\n  let proxId = 1 + produtos.map(p => p.id).reduce((x, y) => Math.max(x, y));\n  return produtos.concat([{ ...produto,\n    id: proxId\n  }]);\n}\n\nfunction deleteBoxReducer(state, id) {\n  return state.produtos.filter(p => p.id !== id);\n}\n\nexport const fetchBanco = createAsyncThunk('Banco/fetchBanco', async () => {\n  return await (await fetch('http://localhost:3004/Banco')).json();\n});\n\nfunction fullfillProjetosReducer(projetosState, projetosFetched) {\n  projetosState.status = 'loaded';\n  projetosState.produtos = projetosFetched;\n}\n\nexport const boxSlice = createSlice({\n  name: 'box',\n  initialState: initialProduto,\n  reducers: {\n    openBox: (state, action) => openBoxReducer(state, action.payload),\n    addBox: (state, action) => addBoxReducer(state, action.payload),\n    deleteBox: (state, action) => deleteBoxReducer(state, action.payload)\n  }\n}); //     extraReducers: {\n//         [fetchBanco.fulfilled]: (state, action) => fullfillProjetosReducer(state, action.payload),\n//         [fetchBanco.pending]: (state) => { state.status = 'loading' },\n//         [fetchBanco.rejected]: (state, action) => { state.status = 'failed'; state.erro = action.erro.message }\n//     }\n// })\n\nexport const {\n  addBox,\n  deleteBox,\n  openBox\n} = boxSlice.actions;\nexport default boxSlice.reducer; // export const {\n//     selectAll : selectALLBookings,\n//     selectById: selectBookingById,\n//     selectEntities: selectBookingEntities,\n//     selectTotal: selectBookingsTotal,\n// } = bookingsAdapter.getSelectors(state=>state.bookings)","map":{"version":3,"names":["createAsyncThunk","createSlice","createEntityAdapter","useDispatch","initialProduto","bookingsAdapter","openBoxReducer","produtos","id","filtro","state","addBoxReducer","produto","proxId","map","p","reduce","x","y","Math","max","concat","deleteBoxReducer","filter","fetchBanco","fetch","json","fullfillProjetosReducer","projetosState","projetosFetched","status","boxSlice","name","initialState","reducers","openBox","action","payload","addBox","deleteBox","actions","reducer"],"sources":["C:/Users/Victor/Desktop/Projeto/PSW/ti-2022-1-grupo_7/src/components/Redux/boxSlice.js"],"sourcesContent":["import {createAsyncThunk, createSlice, createEntityAdapter} from '@reduxjs/toolkit';\nimport { useDispatch } from \"react-redux\";\n\nconst initialProduto = [];\n\nconst bookingsAdapter = createEntityAdapter()\n\n\nfunction openBoxReducer(produtos, id){\n    // const filtro = state.produtos.filter((p) => p.id == id);\n    const filtro = state.produtos;\n    return filtro;\n}\n\nfunction addBoxReducer(produtos, produto){\n    let proxId = 1 + produtos.map(p => p.id).reduce((x,y) => Math.max(x,y));\n    return produtos.concat([{...produto, id: proxId}]);\n}\n\nfunction deleteBoxReducer(state, id){\n    return state.produtos.filter((p) => p.id !== id);\n}\n\nexport const fetchBanco = createAsyncThunk('Banco/fetchBanco',\n    async () => {\n        return await (await fetch('http://localhost:3004/Banco')).json();\n});\n\nfunction fullfillProjetosReducer(projetosState, projetosFetched) {\n    projetosState.status = 'loaded';\n    projetosState.produtos = projetosFetched;\n}\n\nexport const boxSlice = createSlice({\n    name: 'box',\n    initialState: initialProduto,\n\n    reducers: {\n        openBox: (state, action) => openBoxReducer(state, action.payload),\n        addBox: (state, action) => addBoxReducer(state, action.payload),\n        deleteBox: (state, action) => deleteBoxReducer(state, action.payload)\n    }\n});\n\n\n//     extraReducers: {\n//         [fetchBanco.fulfilled]: (state, action) => fullfillProjetosReducer(state, action.payload),\n//         [fetchBanco.pending]: (state) => { state.status = 'loading' },\n//         [fetchBanco.rejected]: (state, action) => { state.status = 'failed'; state.erro = action.erro.message }\n\n//     }\n\n// })\nexport const { addBox, deleteBox, openBox} = boxSlice.actions\nexport default boxSlice.reducer\n\n// export const {\n//     selectAll : selectALLBookings,\n//     selectById: selectBookingById,\n//     selectEntities: selectBookingEntities,\n//     selectTotal: selectBookingsTotal,\n// } = bookingsAdapter.getSelectors(state=>state.bookings)"],"mappings":"AAAA,SAAQA,gBAAR,EAA0BC,WAA1B,EAAuCC,mBAAvC,QAAiE,kBAAjE;AACA,SAASC,WAAT,QAA4B,aAA5B;AAEA,MAAMC,cAAc,GAAG,EAAvB;AAEA,MAAMC,eAAe,GAAGH,mBAAmB,EAA3C;;AAGA,SAASI,cAAT,CAAwBC,QAAxB,EAAkCC,EAAlC,EAAqC;EACjC;EACA,MAAMC,MAAM,GAAGC,KAAK,CAACH,QAArB;EACA,OAAOE,MAAP;AACH;;AAED,SAASE,aAAT,CAAuBJ,QAAvB,EAAiCK,OAAjC,EAAyC;EACrC,IAAIC,MAAM,GAAG,IAAIN,QAAQ,CAACO,GAAT,CAAaC,CAAC,IAAIA,CAAC,CAACP,EAApB,EAAwBQ,MAAxB,CAA+B,CAACC,CAAD,EAAGC,CAAH,KAASC,IAAI,CAACC,GAAL,CAASH,CAAT,EAAWC,CAAX,CAAxC,CAAjB;EACA,OAAOX,QAAQ,CAACc,MAAT,CAAgB,CAAC,EAAC,GAAGT,OAAJ;IAAaJ,EAAE,EAAEK;EAAjB,CAAD,CAAhB,CAAP;AACH;;AAED,SAASS,gBAAT,CAA0BZ,KAA1B,EAAiCF,EAAjC,EAAoC;EAChC,OAAOE,KAAK,CAACH,QAAN,CAAegB,MAAf,CAAuBR,CAAD,IAAOA,CAAC,CAACP,EAAF,KAASA,EAAtC,CAAP;AACH;;AAED,OAAO,MAAMgB,UAAU,GAAGxB,gBAAgB,CAAC,kBAAD,EACtC,YAAY;EACR,OAAO,MAAM,CAAC,MAAMyB,KAAK,CAAC,6BAAD,CAAZ,EAA6CC,IAA7C,EAAb;AACP,CAHyC,CAAnC;;AAKP,SAASC,uBAAT,CAAiCC,aAAjC,EAAgDC,eAAhD,EAAiE;EAC7DD,aAAa,CAACE,MAAd,GAAuB,QAAvB;EACAF,aAAa,CAACrB,QAAd,GAAyBsB,eAAzB;AACH;;AAED,OAAO,MAAME,QAAQ,GAAG9B,WAAW,CAAC;EAChC+B,IAAI,EAAE,KAD0B;EAEhCC,YAAY,EAAE7B,cAFkB;EAIhC8B,QAAQ,EAAE;IACNC,OAAO,EAAE,CAACzB,KAAD,EAAQ0B,MAAR,KAAmB9B,cAAc,CAACI,KAAD,EAAQ0B,MAAM,CAACC,OAAf,CADpC;IAENC,MAAM,EAAE,CAAC5B,KAAD,EAAQ0B,MAAR,KAAmBzB,aAAa,CAACD,KAAD,EAAQ0B,MAAM,CAACC,OAAf,CAFlC;IAGNE,SAAS,EAAE,CAAC7B,KAAD,EAAQ0B,MAAR,KAAmBd,gBAAgB,CAACZ,KAAD,EAAQ0B,MAAM,CAACC,OAAf;EAHxC;AAJsB,CAAD,CAA5B,C,CAYP;AACA;AACA;AACA;AAEA;AAEA;;AACA,OAAO,MAAM;EAAEC,MAAF;EAAUC,SAAV;EAAqBJ;AAArB,IAAgCJ,QAAQ,CAACS,OAA/C;AACP,eAAeT,QAAQ,CAACU,OAAxB,C,CAEA;AACA;AACA;AACA;AACA;AACA"},"metadata":{},"sourceType":"module"}